/*!
 * NOTICE OF LICENSE
 * 
 * @author    202 ecommerce <tech@202-ecommerce.com>
 * @author    Mondial Relay
 * @copyright Copyright (c) Mondial Relay
 * @license http://opensource.org/licenses/osl-3.0.php Open Software License (OSL 3.0)
 */!function(e){var r={};function n(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=r,n.d=function(e,r,t){n.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:t})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,r){if(1&r&&(e=n(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(n.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var a in e)n.d(t,a,function(r){return e[r]}.bind(null,a));return t},n.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(r,"a",r),r},n.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},n.p="",n(n.s=12)}({0:function(e,r,n){"use strict";n.d(r,"d",(function(){return i})),n.d(r,"c",(function(){return u})),n.d(r,"b",(function(){return s})),n.d(r,"a",(function(){return _})),n.d(r,"e",(function(){return c}));var t=n(2);function a(e,r){return function(e){if(Array.isArray(e))return e}
/**
 * NOTICE OF LICENSE
 *
 * @author    202 ecommerce <tech@202-ecommerce.com>
 * @author    Mondial Relay
 * @copyright Copyright (c) Mondial Relay
 * @license http://opensource.org/licenses/osl-3.0.php Open Software License (OSL 3.0)
 */(e)||function(e,r){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var t,a,o,i,l=[],d=!0,c=!1;try{if(o=(n=n.call(e)).next,0===r){if(Object(n)!==n)return;d=!1}else for(;!(d=(t=o.call(n)).done)&&(l.push(t.value),l.length!==r);d=!0);}catch(e){c=!0,a=e}finally{try{if(!d&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw a}}return l}}(e,r)||function(e,r){if(!e)return;if("string"==typeof e)return o(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}var i=function(){for(var e=0,r=Object.entries(MONDIALRELAY_CARRIER_METHODS);e<r.length;e++){var n=a(r[e],2),t=n[0],o=n[1];(["ES","IT","PT"].includes(MONDIALRELAY_COUNTRY_ISO)&&"IP"!==o.delivery_type||!["ES","IT","PT"].includes(MONDIALRELAY_COUNTRY_ISO)&&"MR"!==o.delivery_type||!MONDIALRELAY_ADDRESS_OPC)&&(o=$('[name^="delivery_option"][value="'+t+',"]')[0])&&l(o,d)}},l=function(e,r){var n;(n=e.closest(".delivery-option")||e.closest(".delivery_option"))&&r(n)},d=function(e){e.remove()},c=t.a,u=function(){return MONDIALRELAY_NATIVE_RELAY_CARRIERS_IDS.includes(s())},s=function(){var e=$('[name^="delivery_option"]:checked').val();if(void 0!==e){var r=e.split(",");e=r[0]}return e||!1},_=function(e){return MONDIALRELAY_CARRIER_METHODS[e].delivery_mode};$(document).ready((function(){i()})),$(document).on("click",c.save_button,(function(e){e.preventDefault(),e.stopPropagation(),c.displayErrors(null),$(c.summary_container).empty().show(),c.addLoader(c.summary_container),$(c).trigger("mondialrelay.saveSelectedRelay.before");var r={ajax:!0,action:"saveSelectedRelay",mondialrelay_selectedRelay:MONDIALRELAY_SELECTED_RELAY_IDENTIFIER||0,id_carrier:s()};return $.ajax({type:"POST",url:MONDIALRELAY_AJAX_CHECKOUT_URL,data:r,dataType:"json",success:function(e){if(e){if("ok"!=e.status)return c.savedRelay=null,e.error.length&&c.displayErrors(e.error),c.removeLoader($(c.summary_container)),void $(c).trigger("mondialrelay.saveSelectedRelay.error");c.savedRelay=MONDIALRELAY_SELECTED_RELAY_IDENTIFIER,$(c.summary_container).html(e.content.relaySummary),c.hide(),$(c.save_container).hide(),$(c.widget_container).slideUp(),$(c.save_container).slideUp(),$(c).trigger("mondialrelay.saveSelectedRelay.success")}else this.error(e)},error:function(e){c.savedRelay=null,alert(MONDIALRELAY_SAVE_RELAY_ERROR),$(c).trigger("mondialrelay.saveSelectedRelay.error"),c.removeLoader($(c.summary_container))}}),!1}))},12:function(e,r,n){"use strict";n.r(r);var t=n(0),a=!1,o=function(){$.ajax({type:"POST",headers:{"cache-control":"no-cache"},url:orderOpcUrl+"?rand="+(new Date).getTime(),async:!0,cache:!1,dataType:"json",data:"ajax=true&method=getAddressBlockAndCarriersAndPayments&token="+static_token,success:function(e){if(e.hasError){var r="";for(var n in e.errors)"indexOf"!==n&&(r+=$("<div />").html(e.errors[n]).text()+"\n");alert(r)}else void 0!==e.formatedAddressFieldsValuesList&&e.formatedAddressFieldsValuesList&&(formatedAddressFieldsValuesList=e.formatedAddressFieldsValuesList),void 0!==e.order_opc_adress&&e.order_opc_adress&&($(".opc-main-block .addresses").html($($.parseHTML("<div>"+e.order_opc_adress+"</div>")).find(".opc-main-block .addresses").contents()),updateAddressesDisplay(!0),"undefined"!=typeof bindUniform&&bindUniform())},error:function(e,r,n){}})};
/**
 * NOTICE OF LICENSE
 *
 * @author    202 ecommerce <tech@202-ecommerce.com>
 * @author    Mondial Relay
 * @copyright Copyright (c) Mondial Relay
 * @license http://opensource.org/licenses/osl-3.0.php Open Software License (OSL 3.0)
 */$(t.e).on("mondialrelay.ready",(function(){t.c()&&(a=!0,t.e.savedRelay?($(t.e.summary_container).show(),t.e.hide()):($("#HOOK_PAYMENT").empty(),updatePaymentMethodsDisplay(),t.e.show()),t.e.init({ColLivMod:t.a(t.b())}))})),$(document).on("mondialrelay.contentRefreshed","#mondialrelay_content",(function(e,r){t.d(),r.fromAjax&&(t.e.initialized=!1,t.e.savedRelay=MONDIALRELAY_SELECTED_RELAY_IDENTIFIER,t.c()?(t.e.savedRelay?($(t.e.save_button).click(),t.e.hide()):t.e.show(),t.e.initOrUpdate({ColLivMod:t.a(t.b())}),a=!0):(a&&o(),t.e.hide(),a=!1))})),$(t.e).on("mondialrelay.saveSelectedRelay.before",(function(){$("#HOOK_PAYMENT").empty()})),$(t.e).on("mondialrelay.saveSelectedRelay.success",(function(){updatePaymentMethodsDisplay(),o()})),$(t.e).on("mondialrelay.saveSelectedRelay.error",(function(){updatePaymentMethodsDisplay(),o()}))},2:function(e,r,n){"use strict";n.d(r,"a",(function(){return t}));
/**
 * NOTICE OF LICENSE
 *
 * @author    202 ecommerce <tech@202-ecommerce.com>
 * @author    Mondial Relay
 * @copyright Copyright (c) Mondial Relay
 * @license http://opensource.org/licenses/osl-3.0.php Open Software License (OSL 3.0)
 */
var t={url:"//widget.mondialrelay.com/parcelshop-picker/jquery.plugin.mondialrelay.parcelshoppicker.min.js",loaded:!1,initialized:!1,widget_container:"#mondialrelay_widget",save_container:"#mondialrelay_save-container",error_container:"#mondialrelay_errors",summary_container:"#mondialrelay_summary",save_button:"#mondialrelay_save-relay",change_button:"#mondialrelay_change-relay",selected_relay_input:"#mondialrelay_selected-relay",widget_search_zipcode_input:"#mondialrelay_widget .MRW-Search .Arg2",widget_search_country_input:"#mondialrelay_widget .MRW-Search .Arg1",savedRelay:null,widget_current_params:null};t.load=function(e){!function(e,r){var n=document.createElement("script");n.onload=r,n.src=e,document.head.appendChild(n)}(t.url,(function(){t.loaded=!0,e()}))},t.init=function(e){if("undefined"==typeof MONDIALRELAY_BAD_CONFIGURATION||!MONDIALRELAY_BAD_CONFIGURATION){if(t.savedRelay&&$(t.summary_container).slideDown(),!t.loaded)return t.addLoader(t.widget_container),void t.load((function(){t.init(e)}));var r={Target:t.selected_relay_input,Brand:MONDIALRELAY_ENSEIGNE,Country:MONDIALRELAY_COUNTRY_ISO,PostCode:MONDIALRELAY_POSTCODE,ShowResultsOnMap:1==MONDIALRELAY_DISPLAY_MAP,NbResults:"7",Responsive:!0,OnParcelShopSelected:function(e){$(t.save_container).show(),t.setSelectedRelay(null,e)}};r.Theme=["ES","IT","PT"].includes(MONDIALRELAY_COUNTRY_ISO)?"inpost":"mondialrelay",e&&$.extend(r,e),t.widget_current_params=r,$(t.widget_container).MR_ParcelShopPicker(r),t.initialized=!0}},t.show=function(){$(t.widget_container).show()},t.hide=function(){$(t.widget_container).hide()},t.update=function(e){$(t.widget_container).trigger("MR_SetParams",e),t.widget_current_params=$.extend(t.widget_current_params,e),t.doSearch()},t.initOrUpdate=function(e){t.initialized?t.update(e):t.init(e)},t.setSelectedRelay=function(e,r){if(void 0!==e&&e||(e=$(t.selected_relay_input).val()),e==$(t.selected_relay_input).val()&&MONDIALRELAY_SELECTED_RELAY_IDENTIFIER!=e){var n=MONDIALRELAY_SELECTED_RELAY_IDENTIFIER;MONDIALRELAY_SELECTED_RELAY_IDENTIFIER=e,$(t).trigger("mondialrelay.selectedRelay",{oldRelay:n,relayData:r})}},t.resetSelectedRelay=function(){var e=MONDIALRELAY_SELECTED_RELAY_IDENTIFIER;MONDIALRELAY_SELECTED_RELAY_IDENTIFIER=null,$(t).trigger("mondialrelay.selectedRelay",{oldRelay:e,relayData:null})},t.resetSavedRelay=function(e){t.savedRelay=null,void 0!==e&&e||($(t.summary_container).slideUp(),$(t.widget_container).slideDown(),$(t.save_container).slideDown())},t.doSearch=function(e,r){var n=[void 0!==e&&e?e:$(t.widget_search_zipcode_input).val(),void 0!==r&&r?r:$(t.widget_search_country_input).val()];$(t.widget_container).trigger("MR_DoSearch",n)},t.displayErrors=function(e){var r=$(t.error_container);0!=r.length&&(r.stop(!0),r.children().length&&r.fadeOut((function(){$(this).empty()})),void 0!==e&&e&&(r.queue((function(){var r=[];$.each(e,(function(e,n){r.push($("<div/>").addClass("alert alert-danger").text(n))})),$(this).append(r),$(this).dequeue()})),r.fadeIn()))},t.addLoader=function(e){0!=$(e).length&&($(e).children(".mondialrelay_loader").length>0||$("#mondialrelay_loader-template").clone().attr("id",null).show().appendTo(e))},t.removeLoader=function(e){$(e).children(".mondialrelay_loader").remove()},$(document).ready((function(){t.savedRelay=MONDIALRELAY_SELECTED_RELAY_IDENTIFIER,$(t).trigger("mondialrelay.ready")})),$(document).on("click",t.change_button,(function(e){t.show()})),$(document).on("click",".MRW-ShowList",(function(e){e.preventDefault(),e.stopPropagation()})),$(document).on("click",".PR-City",(function(e){e.preventDefault(),e.stopPropagation()}))}});